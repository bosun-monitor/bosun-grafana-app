{"version":3,"sources":["../../../src/panels/incident-list/editor.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAM,4C;AACF,0DAAY,MAAZ,EAAoB,UAApB,EAAgC,EAAhC,EAAoC,YAApC,EAAkD,aAAlD,EAAiE,WAAjE,EAA8E;AAAA;;AAC1E,2BAAO,MAAP,GAAgB,IAAhB;AACA,yBAAK,SAAL,GAAiB,OAAO,IAAxB;AACA,yBAAK,KAAL,GAAa,KAAK,SAAL,CAAe,KAA5B;AACA,yBAAK,EAAL,GAAU,EAAV;AACA,wBAAI,OAAO,IAAX;AACA,yBAAK,aAAL,GAAqB,aAArB;AACA,wBAAI,cAAc,EAAE,MAAF,CAAS,KAAK,aAAL,CAAmB,gBAAnB,EAAT,EAAgD,sBAAc;AAC5E,+BAAO,WAAW,IAAX,CAAgB,EAAhB,KAAuB,kBAA9B;AACH,qBAFiB,CAAlB;AAGA,yBAAK,WAAL,GAAmB,EAAE,GAAF,CAAM,WAAN,EAAmB,MAAnB,CAAnB;AACA,wBAAI,CAAC,KAAK,KAAL,CAAW,UAAhB,EAA4B;AACxB,6BAAK,KAAL,CAAW,UAAX,GAAwB,KAAK,WAAL,CAAiB,CAAjB,CAAxB;AACH;AACD,yBAAK,aAAL,CAAmB,GAAnB,CAAuB,KAAK,KAAL,CAAW,UAAlC,EAA8C,IAA9C,CAAmD,UAAU,UAAV,EAAsB;AACrE,6BAAK,UAAL,GAAkB,UAAlB;AACA,6BAAK,SAAL,CAAe,OAAf;AACH,qBAHD;AAIA,yBAAK,WAAL,GAAmB,WAAnB;AACA,yBAAK,KAAL,CAAW,SAAX,GAAuB,KAAK,KAAL,CAAW,SAAlC;AACH;;;;wDAEmB;AAChB,6BAAK,SAAL,CAAe,OAAf;AACH;;;;;;AAGE,qBAAS,4BAAT,GAAwC;AAC3C,uBAAO;AACH,8BAAU,GADP;AAEH,2BAAO,IAFJ;AAGH,iCAAa,2DAHV;AAIH,gCAAY;AAJT,iBAAP;AAMH","file":"editor.js","sourcesContent":["class BosunIncidentListPanelEditorCtrl {\n    constructor($scope, $rootScope, $q, uiSegmentSrv, datasourceSrv, templateSrv) {\n        $scope.editor = this;\n        this.panelCtrl = $scope.ctrl;\n        this.panel = this.panelCtrl.panel;\n        this.$q = $q;\n        var self = this;\n        this.datasourceSrv = datasourceSrv;\n        var datasources = _.filter(this.datasourceSrv.getMetricSources(), datasource => {\n            return datasource.meta.id === 'bosun-datasource';\n        });\n        this.datasources = _.map(datasources, 'name');\n        if (!this.panel.datasource) {\n            this.panel.datasource = this.datasources[0];\n        }\n        this.datasourceSrv.get(this.panel.datasource).then(function (datasource) {\n            self.datasource = datasource;\n            self.panelCtrl.refresh();\n        });\n        this.templateSrv = templateSrv;\n        this.panel.showMutli = this.panel.showMutli;\n    }\n\n    datasourceChanged() {\n        this.panelCtrl.refresh();\n    }\n}\n\nexport function bosunIncidentListPanelEditor() {\n    return {\n        restrict: 'E',\n        scope: true,\n        templateUrl: 'public/plugins/bosun-app/panels/incident-list/editor.html',\n        controller: BosunIncidentListPanelEditorCtrl,\n    };\n}"]}